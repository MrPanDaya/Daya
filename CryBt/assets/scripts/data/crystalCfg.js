(function(){
    window.crystalCfg = {
        "0":{type: 0, attList:[{exp: 50, baseCry: 10, att: 0.05}, {exp: 100, baseCry: 15, att: 0.06}, {exp: 120, baseCry: 20, att: 0.07}, {exp: 200, baseCry: 30, att: 0.08}, {exp: 320, baseCry: 50, att: 0.1}, {exp: 660, baseCry: 100, att: 0.12}, {exp: 3000, baseCry: 150, att: 0.14}, {exp: 1000, baseCry: 200, att: 0.16}, {exp: 2000, baseCry: 300, att: 0.18}, {exp: 2500, baseCry: 400, att: 0.2}, {exp: 3200, baseCry: 500, att: 0.24}, {exp: 4000, baseCry: 600, att: 0.28}, {exp: 4600, baseCry: 700, att: 0.32}, {exp: 5200, baseCry: 800, att: 0.36}, {exp: 6600, baseCry: 1000, att: 0.4}]},
        "1":{type: 1, attList:[{exp: 50, baseCry: 10, att: 0.05}, {exp: 100, baseCry: 15, att: 0.06}, {exp: 120, baseCry: 20, att: 0.07}, {exp: 200, baseCry: 30, att: 0.08}, {exp: 320, baseCry: 50, att: 0.1}, {exp: 660, baseCry: 100, att: 0.12}, {exp: 3000, baseCry: 150, att: 0.14}, {exp: 1000, baseCry: 200, att: 0.16}, {exp: 2000, baseCry: 300, att: 0.18}, {exp: 2500, baseCry: 400, att: 0.2}, {exp: 3200, baseCry: 500, att: 0.24}, {exp: 4000, baseCry: 600, att: 0.28}, {exp: 4600, baseCry: 700, att: 0.32}, {exp: 5200, baseCry: 800, att: 0.36}, {exp: 6600, baseCry: 1000, att: 0.4}]},
        "2":{type: 2, attList:[{exp: 50, baseCry: 10, att: 0.05}, {exp: 100, baseCry: 15, att: 0.06}, {exp: 120, baseCry: 20, att: 0.07}, {exp: 200, baseCry: 30, att: 0.08}, {exp: 320, baseCry: 50, att: 0.1}, {exp: 660, baseCry: 100, att: 0.11}, {exp: 3000, baseCry: 150, att: 0.12}, {exp: 1000, baseCry: 200, att: 0.13}, {exp: 2000, baseCry: 300, att: 0.14}, {exp: 2500, baseCry: 400, att: 0.15}, {exp: 3200, baseCry: 500, att: 0.17}, {exp: 4000, baseCry: 600, att: 0.19}, {exp: 4600, baseCry: 700, att: 0.21}, {exp: 5200, baseCry: 800, att: 0.23}, {exp: 6600, baseCry: 1000, att: 0.25}]},
        "3":{type: 3, attList:[{exp: 50, baseCry: 10, att: 0.05}, {exp: 100, baseCry: 15, att: 0.06}, {exp: 120, baseCry: 20, att: 0.07}, {exp: 200, baseCry: 30, att: 0.08}, {exp: 320, baseCry: 50, att: 0.1}, {exp: 660, baseCry: 100, att: 0.12}, {exp: 3000, baseCry: 150, att: 0.14}, {exp: 1000, baseCry: 200, att: 0.16}, {exp: 2000, baseCry: 300, att: 0.18}, {exp: 2500, baseCry: 400, att: 0.2}, {exp: 3200, baseCry: 500, att: 0.24}, {exp: 4000, baseCry: 600, att: 0.28}, {exp: 4600, baseCry: 700, att: 0.32}, {exp: 5200, baseCry: 800, att: 0.36}, {exp: 6600, baseCry: 1000, att: 0.4}]},
        "4":{type: 4, attList:[{exp: 50, baseCry: 10, att: 0.1}, {exp: 100, baseCry: 15, att: 0.12}, {exp: 120, baseCry: 20, att: 0.14}, {exp: 200, baseCry: 30, att: 0.16}, {exp: 320, baseCry: 50, att: 0.18}, {exp: 660, baseCry: 100, att: 0.22}, {exp: 3000, baseCry: 150, att: 0.26}, {exp: 1000, baseCry: 200, att: 0.30}, {exp: 2000, baseCry: 300, att: 0.34}, {exp: 2500, baseCry: 400, att: 0.38}, {exp: 3200, baseCry: 500, att: 0.44}, {exp: 4000, baseCry: 600, att: 0.50}, {exp: 4600, baseCry: 700, att: 0.56}, {exp: 5200, baseCry: 800, att: 0.62}, {exp: 6600, baseCry: 1000, att: 0.7}]},
    };
    window.mapRewardCfg = {
        "1000":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1001":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1002":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1003":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1004":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1005":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1006":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1007":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1008":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "1009":{minExp: 10, maxExp: 15, minCry: 1, maxCry: 2, starExp: 5, starCry: 2},
        "2000":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2001":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2002":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2003":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2004":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2005":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2006":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2007":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2008":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "2009":{minExp: 15, maxExp: 20, minCry: 2, maxCry: 4, starExp: 10, starCry: 3},
        "3000":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3001":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3002":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3003":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3004":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3005":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3006":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3007":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3008":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
        "3009":{minExp: 20, maxExp: 25, minCry: 3, maxCry: 5, starExp: 15, starCry: 4},
    };
    window.getGameEndReward = function (mapId, starNum) {
        var rewardCfg = mapRewardCfg[mapId];
        var reward = {
            exp: rewardCfg.minExp + Math.ceil(Math.random()*(rewardCfg.maxExp - rewardCfg.minExp)),
            cry: rewardCfg.minCry + Math.ceil(Math.random()*(rewardCfg.maxCry - rewardCfg.minCry)),
            starExp: starNum===3 ? rewardCfg.starExp : 0,
            starCry: starNum===3 ? rewardCfg.starCry : 0,
        };
        return reward;
    };
    window.getCrystalAtt = function (cryId, lv) {
        var curLv = lv - 1;
        if(curLv < 0) return {exp: 0, baseCry: 0, att: 0};

        var data = crystalCfg[cryId];
        if(curLv >= data.attList.length)
            curLv = data.attList.length - 1;
        return data.attList[curLv];
    };
    window.isCrystalMaxLv = function (cryId, lv) {
        var data = crystalCfg[cryId];
        return (lv >= data.attList.length);
    };
})();